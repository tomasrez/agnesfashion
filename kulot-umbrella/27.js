bdjp([27],{1e3:function(e,t,a){function l(e,t){var a=[].concat(babelHelpers.toConsumableArray(e));return a.length&&(0,i.default)(a.length-1,function(e){a.splice(2*e+1,0,t(e))}),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=a(103),i=babelHelpers.interopRequireDefault(r)},1101:function(e,t,a){function l(e){var t=e.contentBackground,a=e.max,l=e.fontSize,r=e.color,i=e.name,n=e.value,o=n?n/a:0,u=Math.max(60,Math.floor(3.3*l)),s=Math.ceil(u/4),d=Math.ceil(u/2),f=Math.ceil(u-s),c=e.circleBackgroundColor||m.default.grey.P300,p=r;return S.default.createElement(j.default,{depth:1,style:{borderRadius:2*u}},S.default.createElement(Q.default,{style:{height:u,width:u,overflow:"hidden",borderRadius:2*u}},S.default.createElement(Q.default,{style:{height:u,width:u,backgroundColor:c,transform:[{rotate:"45deg"}]}}),S.default.createElement(Q.default,{style:{position:"absolute",top:0,bottom:0,right:0,width:d,backgroundColor:p,opacity:o>.5?1:0}}),S.default.createElement(Q.default,{style:{position:"absolute",top:0,height:0,width:0,borderColor:m.default.transparent,borderLeftColor:p,borderBottomColor:p,borderTopWidth:d,borderBottomWidth:d,borderRightWidth:d,borderLeftWidth:d,borderRadius:2*u,transform:[{rotate:Math.floor(45+360*o)+"deg"}]}}),S.default.createElement(Q.default,{style:{position:"absolute",top:0,bottom:0,left:0,width:d,backgroundColor:c,opacity:o<.5?1:0}}),S.default.createElement(j.default,{depth:1,containerStyle:{position:"absolute",top:s/2,left:s/2},style:{borderRadius:2*u}},S.default.createElement(Q.default,{style:{backgroundColor:t||m.default.white,borderRadius:2*u,height:f,width:f,alignItems:"center",justifyContent:"center"}},S.default.createElement(O.default,{style:{fontWeight:"700",fontSize:l,color:r}},n),S.default.createElement(O.default,{uppercase:!0,style:{fontWeight:"700",fontSize:Math.max(8,Math.floor(l/3)),marginTop:Math.floor(-l/5),color:r}},i)))))}function r(e){var t=e.fontSize,a=e.day,r=e.hour,i=e.minute,n=e.second,o=e.colors,u=[],s={fontSize:t,circleBackgroundColor:o.barBackground,contentBackground:o.contentBackground};return u.unshift(S.default.createElement(l,babelHelpers.extends({},s,{key:"second",name:"second",value:n,color:o.second||o.text,max:60}))),u.unshift(S.default.createElement(l,babelHelpers.extends({key:"minute"},s,{name:"minute",value:i,fontSize:t,color:o.minute||o.text,max:60}))),u.unshift(S.default.createElement(l,babelHelpers.extends({},s,{key:"hour",name:"hour",value:r,color:o.hour||o.text,max:24}))),a&&u.unshift(S.default.createElement(l,babelHelpers.extends({},s,{key:"day",name:"day",value:a,color:o.day||o.text,max:365}))),S.default.createElement(T.default,{space:2,groupSpace:2,style:z.default.justifyCenter},u)}function i(e){var t=e.design,a=e.day,l=e.hour,i=e.minute,n=e.second,o=e.fontSize||21,u=e.colors||U.default;if("circle"===t)return S.default.createElement(r,babelHelpers.extends({},e,{colors:u,fontSize:o}));var s=[];if("digital"===t){var d,f=[];a&&s.push(S.default.createElement(O.default,{key:"day",style:{color:u.day}},{msg:"nDays",n:a}),S.default.createElement(O.default,{raw:!0,key:"s"}," - ")),f.push(S.default.createElement(O.default,{key:"hour",style:{color:u.hour}},{leftPad:2,value:l})),f.push(S.default.createElement(O.default,{key:"minute",style:{color:u.minute}},{leftPad:2,value:i})),f.push(S.default.createElement(O.default,{key:"second",style:{color:u.second}},{leftPad:2,value:n})),(d=s).push.apply(d,babelHelpers.toConsumableArray((0,I.default)(f,J)))}else{var c=[];a&&c.push(S.default.createElement(O.default,{key:"day",style:{color:u.day}},{msg:"nDays",n:a})),l&&c.push(S.default.createElement(O.default,{key:"hour",style:{color:u.hour}},{msg:"xHours",x:l})),i&&c.push(S.default.createElement(O.default,{key:"minute",style:{color:u.minute}},{msg:"xMinutes",x:i})),n&&c.push(S.default.createElement(O.default,{key:"second",style:{color:u.second}},{msg:"xSeconds",x:n})),s=(0,I.default)(c,X)}return S.default.createElement(O.default,{raw:!0,style:{fontSize:o,fontWeight:"700",textAlign:"center",color:u.text}},s)}function n(e){var t=e.camp,a=e.children,l=e.done,r=t.discount;if(!r)return l;var i=r.useDateTo,n=h.MAX_TIME===i?Date.now()+y.default.month:i;return S.default.cloneElement(a,{key:r.id,target:n})}function o(e){var t=e._previewState,a=e.camp,l=e.orderID,r=e.children,i=e.done,n=a.order;if(n){var o=n.expiredAt;if(o){var u=o;return t&&(u=Math.max(o,Date.now()+y.default.hour)),S.default.cloneElement(r,{key:l,target:u})}}return i}function u(e){var t=e.page,a=e.query,l=e.orderID,r=e.discountID,n=e.targetType,o=e.width,u=e.finished,s=e._previewState,f=e.background,p=babelHelpers.objectWithoutProperties(e,["page","query","orderID","discountID","targetType","width","finished","_previewState","background"]),b=a.secret,m=S.default.createElement(C.default,babelHelpers.extends({},u,{horizontalPosition:"center"})),h=e.targetTime;if("finished"===s)h=-1;else if("duration"===n){var g=Date.now()+y.default.hour*(e.durationHour||0)+y.default.minute*(e.durationMinute||0),v=[e.ID,e.durationHour,e.durationMinute].join("|"),_=0,H=Z;try{H=window.sessionStorage||Z,_=parseInt(H[v])}catch(e){c.default.error("failed getting session storage")}if(_>0)h=_;else{h=g;try{H[v]=h}catch(e){c.default.error("failed setting session storage")}}}else if("timeOfDay"===n){var R=new Date(h),k=new Date;k.setHours(R.getHours()),k.setMinutes(R.getMinutes()),k.setSeconds(0),k.getTime()<Date.now()&&k.setDate(k.getDate()+1),h=k.getTime()}var D=S.default.createElement(Y.default,{doneElement:m,target:h},S.default.createElement(i,p));if("finished"!==s&&("discount"===n&&(D=S.default.createElement(ee,{done:m,discountID:r||"-"},D)),"order.expired"===n))if(l&&"order.detail"===t){D=S.default.createElement(ae,{done:m,orderID:l,secret:b||"-",viewer:null,_previewState:s},D)}else D=m;return S.default.createElement(d.default,f,S.default.createElement(w.default,{maxWidth:o,justify:"center",align:"center"},S.default.createElement(Q.default,{style:z.default.normalPaddingH},D)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var s=a(760),d=babelHelpers.interopRequireDefault(s),f=a(16),c=babelHelpers.interopRequireDefault(f),p=a(851),b=(babelHelpers.interopRequireDefault(p),a(15)),m=babelHelpers.interopRequireDefault(b),h=a(229),y=babelHelpers.interopRequireDefault(h),g=a(759),v=babelHelpers.interopRequireDefault(g),_=a(157),H=babelHelpers.interopRequireDefault(_),R=a(765),k=babelHelpers.interopRequireDefault(R),D=a(764),x=babelHelpers.interopRequireDefault(D),q=a(789),C=babelHelpers.interopRequireDefault(q),E=a(758),w=babelHelpers.interopRequireDefault(E),P=a(1),S=babelHelpers.interopRequireDefault(P),N=a(1e3),I=babelHelpers.interopRequireDefault(N),M=a(27),O=babelHelpers.interopRequireDefault(M),L=a(223),j=babelHelpers.interopRequireDefault(L),F=a(228),V=babelHelpers.interopRequireDefault(F),W=a(360),T=babelHelpers.interopRequireDefault(W),B=a(156),z=babelHelpers.interopRequireDefault(B),A=a(10),Q=babelHelpers.interopRequireDefault(A),G=a(17),U=babelHelpers.interopRequireDefault(G),K=a(1320),Y=babelHelpers.interopRequireDefault(K),X=function(e){return S.default.createElement(O.default,{raw:!0,key:e}," - ")},J=function(e){return S.default.createElement(V.default,{key:e},":")},Z={},$=(0,v.default)(n,{initialVariables:{discountID:""},fragments:{camp:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{alias:"discount",calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"discountID"}}],children:[{fieldName:"useDateTo",kind:"Field",metadata:{},type:"Float"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"maybeDiscount",kind:"Field",metadata:{canHaveSubselections:!0},type:"Discount"}],id:H.default.QL.__id(),kind:"Fragment",metadata:{},name:"BasicCountdown_CampRelayQL",type:"Camp"}}()}}}),ee=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(x.default);ee.route=k.default,ee.component=$,ee.routeProps={discountID:1};var te=(0,v.default)(o,{initialVariables:{orderID:"",secret:"",viewer:null},fragments:{camp:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"orderID"}},{kind:"Call",metadata:{type:"ViewerLevelEnum"},name:"viewer",value:{kind:"CallVariable",callVariableName:"viewer"}},{kind:"Call",metadata:{},name:"secret",value:{kind:"CallVariable",callVariableName:"secret"}}],children:[{fieldName:"expiredAt",kind:"Field",metadata:{},type:"Float"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"order",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Order"}],id:H.default.QL.__id(),kind:"Fragment",metadata:{},name:"BasicCountdown_CampRelayQL",type:"Camp"}}()}}}),ae=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(x.default);ae.route=k.default,ae.component=te,ae.routeProps={orderID:1,secret:1,viewer:1}},1102:function(e,t,a){function l(e,t){var a=e&&e.getText&&e.getText();if(a)for(var l=null;null!==(l=Z.exec(a));){var r=l.index;t(r,r+l[0].length)}}function r(e){e.barWidth=new f.default.Value(0)}function i(e){f.default.spring(e.barWidth,{speed:2,bounciness:4,toValue:1}).start()}function n(e){return z.default.createElement(O.default,babelHelpers.extends({},e,{init:r,show:i}),z.default.createElement($,e))}function o(e){var t=e.stockType,a=e.stack,l=e.productID,r=y.default.findRoute(a),i=r.to===H.default.product.detail||r.to===H.default.product.preview?r.params.slug:null;if("product"===t){if(i)return z.default.createElement(ae,babelHelpers.extends({},e,{key:i,slug:i}));if(l)return z.default.createElement(re,babelHelpers.extends({key:l},e))}return z.default.createElement(n,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=a(17),s=babelHelpers.interopRequireDefault(u),d=a(39),f=babelHelpers.interopRequireDefault(d),c=a(810),p=babelHelpers.interopRequireDefault(c),b=a(779),m=babelHelpers.interopRequireDefault(b),h=a(43),y=babelHelpers.interopRequireDefault(h),g=a(759),v=babelHelpers.interopRequireDefault(g),_=a(357),H=babelHelpers.interopRequireDefault(_),R=a(765),k=babelHelpers.interopRequireDefault(R),D=a(157),x=babelHelpers.interopRequireDefault(D),q=a(811),C=babelHelpers.interopRequireDefault(q),E=a(225),w=babelHelpers.interopRequireDefault(E),P=a(789),S=babelHelpers.interopRequireDefault(P),N=a(15),I=babelHelpers.interopRequireDefault(N),M=a(1323),O=babelHelpers.interopRequireDefault(M),L=a(758),j=babelHelpers.interopRequireDefault(L),F=a(14),V=babelHelpers.interopRequireDefault(F),W=a(386),T=babelHelpers.interopRequireDefault(W),B=a(1),z=babelHelpers.interopRequireDefault(B),A=a(228),Q=(babelHelpers.interopRequireDefault(A),a(156)),G=babelHelpers.interopRequireDefault(Q),U=a(10),K=babelHelpers.interopRequireDefault(U),Y=a(231),X=a(377),J=babelHelpers.interopRequireDefault(X),Z=function(e){return new RegExp("{{ *"+e+" *}}","g")}("stock"),$=function(e){function t(e,a){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l._update(e),l}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_update",value:function(e){var t=e.camp,a=e.stockType,l=e.currentNumber,r=e.maxNumber,i=0;if("product"===a){if(t&&t.product){var n=!0,o=!1,u=void 0;try{for(var s,d=t.product.stocks[Symbol.iterator]();!(n=(s=d.next()).done);n=!0){var f=s.value,c=f.stock;i+=c}}catch(e){o=!0,u=e}finally{try{!n&&d.return&&d.return()}finally{if(o)throw u}}}}else i="number"!=typeof l||isNaN(l)?0:l;this._currentNumber=i,this._currentNumberString=this._currentNumber+"",this._maxNumber=Math.max(this._currentNumber,"number"!=typeof r||isNaN(r)?0:r)}},{key:"componentWillReceiveProps",value:function(e){this._update(e)}},{key:"_Var",value:function(e){var t=e.children,a=t&&t[0];return a?z.default.cloneElement(a,{text:this._currentNumberString}):null}},{key:"render",value:function(){var e=this.props,t=e.animationType,a=e.content,r=e.fillRadius,i=e.barShadow,n=e.fillShadow,o=e.barHeight,u=e.barRadius,d=e.barBorderWidth,f=e.barWidth,c=e.width,p=e.animations,b=this.props.colors||s.default,m=2*u,h=2*r,y=this._currentNumber,g=this._maxNumber,v=(0,w.default)(Math.max(0,y)/g),_=v;"fill"===t?_=p.barWidth.interpolate({inputRange:[0,1],outputRange:["0%",v]}):"empty"===t&&(_=p.barWidth.interpolate({inputRange:[0,1],outputRange:["100%",v]}));var H=z.default.createElement(T.default,{depth:i,style:{borderRadius:m},containerStyle:{maxWidth:"100%"}},z.default.createElement(K.default,{style:{width:f,borderWidth:d,borderColor:b.border||I.default.grey.P300,height:o,borderRadius:m,maxWidth:"100%",overflow:"hidden",backgroundColor:b.background||I.default.grey.P100}},z.default.createElement(T.default,{depth:n,style:{borderRadius:h},containerStyle:{height:"100%",width:_}},z.default.createElement(K.default,{style:{height:"100%",width:"100%",borderTopRightRadius:h||0,borderBottomRightRadius:h,background:"linear-gradient(to right,"+(b.start||I.default.green.P500)+","+(b.end||I.default.green.P500)+")"}})))),R=new J.default([].concat(babelHelpers.toConsumableArray(Y.decoratorList),[{strategy:l,component:this._Var}])),k=a&&"center"===a.horizontalPosition;return z.default.createElement(K.default,{style:[G.default.center,G.default.normalPaddingH]},z.default.createElement(j.default,{maxWidth:k?c:Math.min(c,f)},z.default.createElement(S.default,babelHelpers.extends({decorator:R},a))),H)}}]),t}(V.default),ee=function(){return{children:[{children:[{fieldName:"stock",kind:"Field",metadata:{},type:"Int"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"stocks",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"ProductStock"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:x.default.QL.__id(),kind:"Fragment",metadata:{},name:"BasicCounterRelayQL",type:"Product"}}(),te=(0,v.default)(n,{initialVariables:{slug:"",viewer:null},fragments:{camp:function(){return function(e){return{children:[{alias:"product",calls:[{kind:"Call",metadata:{},name:"slug",value:{kind:"CallVariable",callVariableName:"slug"}},{kind:"Call",metadata:{type:"ViewerLevelEnum"},name:"viewer",value:{kind:"CallVariable",callVariableName:"viewer"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},x.default.QL.__frag(e)]),fieldName:"productBySlug",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Product"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:x.default.QL.__id(),kind:"Fragment",metadata:{},name:"BasicCounter_CampRelayQL",type:"Camp"}}(ee)}}}),ae=function(e){function t(){var e,a,l,r;babelHelpers.classCallCheck(this,t);for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];return a=l=babelHelpers.possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n))),l.prepareParams=C.default.prepareParams,r=a,babelHelpers.possibleConstructorReturn(l,r)}return babelHelpers.inherits(t,e),t}(m.default);ae.route=p.default,ae.component=te,ae.renderError=C.default.renderError;var le=(0,v.default)(n,{initialVariables:{productID:""},fragments:{camp:function(){return function(e){return{children:[{alias:"product",calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"productID"}},{kind:"Call",metadata:{type:"ViewerLevelEnum"},name:"viewer",value:{kind:"CallValue",callValue:"noBody"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},x.default.QL.__frag(e)]),fieldName:"maybeProduct",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Product"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:x.default.QL.__id(),kind:"Fragment",metadata:{},name:"BasicCounter_CampRelayQL",type:"Camp"}}(ee)}}}),re=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(m.default);re.route=k.default,re.component=le,re.routeProps={productID:1}},1320:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=babelHelpers.interopRequireDefault(l),i=a(14),n=babelHelpers.interopRequireDefault(i),o=a(229),u=babelHelpers.interopRequireDefault(o),s=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.target,a=e.doneElement,l=e.children,i=this.state.now,n=Math.max(0,t-(i||Date.now())),o=Math.floor(n/u.default.day),s=Math.floor(n/u.default.hour)%24,d=Math.floor(n/u.default.minute)%60,f=Math.floor(n/u.default.second)%60;return i&&n<1?a||(l?r.default.cloneElement(l,{countdownEnded:!0}):null):l?r.default.cloneElement(l,{hour:s,day:o,minute:d,second:f,delta:n}):null}},{key:"componentDidMount",value:function(){this._count()}},{key:"_count",value:function(){if(!this._unmounted){var e=Date.now();this.setState({now:e}),this._timeout=setTimeout(this._count)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timeout),this._unmounted=!0}}]),t}(n.default);t.default=s},1323:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var l=a(227),r=babelHelpers.interopRequireDefault(l),i=a(43),n=babelHelpers.interopRequireDefault(i),o=a(760),u=babelHelpers.interopRequireDefault(o),s=a(767),d=babelHelpers.interopRequireDefault(s),f=a(39),c=(babelHelpers.interopRequireDefault(f),a(14)),p=babelHelpers.interopRequireDefault(c),b=a(1),m=babelHelpers.interopRequireDefault(b),h=function(e){function t(e,a){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));l._scrollTop=0;var r=l.props,i=r.stack,o=r.init,u=n.default.isStartRoute(i);return l._animations={},o(l._animations),l._hidden=!u,l}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"_forceShow",value:function(){if(this._hidden)for(var e in this._animations)this._animations[e].setValue(1)}},{key:"_recalculateLayout",value:function(){this._dom&&this._layout({target:this._dom})}},{key:"_layout",value:function(e){var t=(0,d.default)(e.target);if(t){var a=t.height,l=t.y;this._height=a,this._top=l,requestAnimationFrame(this._maybeShow)}}},{key:"_resetAnimation",value:function(){this._hide(),requestAnimationFrame(this._show)}},{key:"render",value:function(){var e=this.props,t=e.background,a=e.children;return m.default.createElement(u.default,babelHelpers.extends({},t,{onLayout:this._layout}),a&&m.default.cloneElement(a,{animations:this._animations}))}},{key:"_hide",value:function(){this._hidden=!0;for(var e in this._animations)this._animations[e].setValue(0)}},{key:"_maybeShow",value:function(){var e=this._height,t=r.default.get("window").height+this._scrollTop;e&&t>this._top+e/2&&this._show()}},{key:"componentDidMount",value:function(){var e=this.props.registerScrollEvent;e&&e(this._pageScroll,this._recalculateLayout)}},{key:"componentWillUnmount",value:function(){var e=this.props.unregisterScrollEvent;e&&e(this._pageScroll,this._recalculateLayout)}},{key:"_pageScroll",value:function(e){var t=e.nativeEvent.contentOffset.y,a=this._height,l=t+r.default.get("window").height;this._scrollTop=t,a&&(this._hidden?l>this._top+a&&this._show():l<this._top&&this._hide())}},{key:"_show",value:function(){var e=this.props.show;this._hidden=!1,e(this._animations)}}]),t}(p.default);t.default=h},758:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=babelHelpers.interopRequireDefault(l),i=a(14),n=babelHelpers.interopRequireDefault(i),o=a(10),u=babelHelpers.interopRequireDefault(o),s=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.isEmail,a=e.height,l=e.onLayout,i=e.minHeight,n=e.minWidth,o=e.justify,s=e.contentContainerStyle,d=e.width,f=e.maxWidth,c=e.style,p=e.children,b=e.align,m=r.default.createElement(u.default,{isEmail:t,style:[{height:a,minHeight:i,maxWidth:f,minWidth:n,width:f?d||"100%":d,marginHorizontal:f?"auto":null},!(b||o)&&s,c],onLayout:l},p);return b||o?r.default.createElement(u.default,{isEmail:t,style:[{alignItems:b,justifyContent:o},s]},m):m}}]),t}(n.default);t.default=s},760:function(e,t,a){function l(e){var t=e.watchOnLayout,a=e.isTemplate,l=e.paddingVertical,r=e.paddingBottomSize,n=e.backgroundColor,o=e.paddingDifferent,u=e.onLayout,d=e.children,p=void 0===d?null:d,b=e.backgroundGradient,m=e.backgroundPattern,h=e.backgroundType,y=!1!==e.paddingTop,g=!1!==e.paddingBottom,v=[e.style,!a&&c.wrapper,y&&l&&(l<0?{marginTop:l}:{paddingTop:l}),g&&o?r&&(r<0?{marginBottom:r}:{paddingBottom:r}):l&&(l<0?{marginBottom:l}:{paddingBottom:l})];switch(h){case"image":return i.default.createElement(f.default,e);case"gradient":v=[v,{background:b}];break;case"pattern":v=[v,m&&{backgroundImage:"url("+m+")"}];break;case"color":v=[v,n&&{backgroundColor:n}]}return i.default.createElement(s.default,{onLayout:u,watchOnLayout:t,style:v},p)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=a(1),i=babelHelpers.interopRequireDefault(r),n=a(11),o=babelHelpers.interopRequireDefault(n),u=a(10),s=babelHelpers.interopRequireDefault(u),d=a(774),f=babelHelpers.interopRequireDefault(d),c={wrapper:o.default.withResponsive("bgw",{_:{display:"block"}})}},762:function(e,t,a){function l(e){if("b"===e)return{fontWeight:"bold"};if("i"===e)return{fontStyle:"italic"};if("bi"===e)return{fontWeight:"bold",fontStyle:"italic"};if(e&&"default"!==e){if(i.default.loadFont(e),"string"==typeof e&&e.startsWith("fdn://")){var t=e.split("/"),a=t[t.length-1]||"",l=a.split(".");return{fontFamily:"'"+babelHelpers.slicedToArray(l,1)[0]+"'"}}return{fontFamily:"'"+e+"'"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveFontFaceStyle=l;var r=a(363),i=babelHelpers.interopRequireDefault(r)},766:function(e,t,a){function l(e){if(e)return"string"==typeof e.source?e.source:e._source||null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},767:function(e,t,a){function l(e){if(e){return e.parentNode&&e.parentNode.className&&e.parentNode.className.includes("scroll-view")?{y:e.offsetTop,height:e.offsetHeight}:l(e.parentNode)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},773:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var l=a(130);t.default=l.ImageAnimated},774:function(e,t,a){function l(e,t,a){return a?[{translateY:t},{scale:1+2*e}]:[{translateY:t}]}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),i=babelHelpers.interopRequireDefault(r),n=a(766),o=babelHelpers.interopRequireDefault(n),u=a(227),s=babelHelpers.interopRequireDefault(u),d=a(18),f=babelHelpers.interopRequireDefault(d),c=a(767),p=babelHelpers.interopRequireDefault(c),b=a(11),m=babelHelpers.interopRequireDefault(b),h=a(10),y=babelHelpers.interopRequireDefault(h),g=a(225),v=babelHelpers.interopRequireDefault(g),_=a(39),H=babelHelpers.interopRequireDefault(_),R=a(132),k=babelHelpers.interopRequireDefault(R),D=a(773),x=babelHelpers.interopRequireDefault(D),q=a(156),C=babelHelpers.interopRequireDefault(q),E=a(14),w=babelHelpers.interopRequireDefault(E),P=a(15),S=babelHelpers.interopRequireDefault(P),N=a(17),I=babelHelpers.interopRequireDefault(N),M=m.default.create({wrapper:{overflow:"hidden",display:"block"},contentHeightImage:{position:"absolute",left:0,right:0,top:0,bottom:0,justifyContent:"center"},imagePlaceholder:{paddingTop:null,flex:1,height:"100%"},contentHeightImageImage:{display:"flex",minHeight:"100%"},noImageImage:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"},noImageContent:{alignItems:"center",minHeight:160}}),O={start:NaN,end:NaN},L=function(e){function t(e){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a._clamp=O,a._lastScroll=NaN,a._parallaxAnimation=new H.default.Value(0);var r=a.props,i=r.useParallax,n=r.fullImage;if(i){var o=a._getParallaxPadding(a.props);a._parallaxStyle={minHeight:(0,v.default)(1.3*(1+2*o)),transform:l(o,(0,v.default)(o),n)}}return a}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_getParallaxPadding",value:function(e){var t=e.parallax;return e.useParallax?(3+t/20*20)/100:0}},{key:"_recalculateParallaxStyle",value:function(e,t){var a=t.offsetTop,r=t.height,i=s.default.get("window").height,n=this._getParallaxPadding(e),o=e.fullImage;if(!e.useParallax)return this._clamp=O,void(this._parallaxStyle=null);if(void 0!==a&&null!==a&&r){var u=r-2*n*r,d=Math.max(0,a-i),f=a+u,c=Env.isSafari?n/5:n,p=[0,d,f,99999],b=(0,v.default)(c),m=(0,v.default)(-c),h=[b,b,m,m],y=this._parallaxAnimation.interpolate({inputRange:p,outputRange:h});this._clamp={start:d,end:f},this._parallaxStyle={minHeight:(0,v.default)(1.3*(1+2*n)),transform:l(n,y,o)}}}},{key:"componentWillUpdate",value:function(e,t){this._recalculateParallaxStyle(e,t)}},{key:"render",value:function(){var e=this.props,t=e.style,a=e.paddingDifferent,l=e.watchOnLayout,r=e.fullImage,n=e.paddingTop,u=e.paddingBottom,s=e.paddingBottomSize,d=e.paddingVertical,f=e.dim,c=e.children,p=void 0===c?null:c,b=e.blur,m=this.props.media||I.default,h=(0,o.default)(m);if(h&&"image"===m.type){var g=f?i.default.createElement(y.default,{style:[C.default.full,{backgroundColor:f<0?S.default.black:S.default.white,opacity:Math.abs(f)/100}]}):null,v=b?"blur("+b+"px)":null,_=k.default.getMeta(h);return i.default.createElement(y.default,{onLayout:this._layout,watchOnLayout:l,style:[M.wrapper,t]},i.default.createElement(y.default,{style:[!r&&M.contentHeightImage,b&&_&&_.dominantColor&&{backgroundColor:_.dominantColor}]},i.default.createElement(x.default,{source:h,alt:m.alt,fixH:!0,placeholderStyle:!r&&M.imagePlaceholder,contentContainerStyle:C.default.fill,style:[{filter:v},M.contentHeightImageImage,this._parallaxStyle]})),g,i.default.createElement(y.default,{className:"ibgw",style:[r&&C.default.full,!1!==n&&d&&{paddingTop:d},!1!==u&&a?s&&{paddingBottom:s}:d&&{paddingBottom:d}]},p))}return i.default.createElement(y.default,{onLayout:this._layout,watchOnLayout:l},i.default.createElement(y.default,{style:M.noImageImage},i.default.createElement(x.default,{width:160,source:null})),i.default.createElement(y.default,{style:M.noImageContent,className:"ibgw"},p))}},{key:"_pageScroll",value:function(e){if(this.props.useParallax){var t=e.nativeEvent,a=t.contentOffset.y,l=this._clamp,r=l.start,i=l.end,n=this._lastScroll;n>i&&a>i||n<r&&a<r||H.default.timing(this._parallaxAnimation,{duration:0,toValue:a}).start(),this._lastScroll=a}}},{key:"_layout",value:function(e){var t=(0,p.default)(e.target);if(this.props.useParallax&&t){var a=t.y,l=t.height;this.setState({offsetTop:a,height:l})}var r=this.props.onLayout;r&&r(e)}},{key:"componentDidMount",value:function(){var e=this.context.registerScrollEvent,t=this.props.useParallax;if(e&&t){var a=Env.isAndroid&&Env.isChrome;(!Env.isMobile||a||location.search.includes("parallax=1"))&&e(this._pageScroll,this._recalculateLayout)}}},{key:"_recalculateLayout",value:function(){this._recalculateParallaxStyle(this.props,this.state)}},{key:"componentWillUnmount",value:function(){var e=this.context.unregisterScrollEvent;e&&e(this._pageScroll,this._recalculateLayout)}}]),t}(w.default);L.defaultProps={parallax:8},L.contextTypes={registerScrollEvent:f.default.any,unregisterScrollEvent:f.default.any},t.default=L},789:function(e,t,a){function l(e,t,a,l){f.default.declare(e,{fontSize:t,fontWeight:a},{forChild:l}),f.default.declare(e,{fontSize:r(t),fontWeight:a},{minWidth:800,forChild:l})}function r(e){return 14+Math.ceil(.5*(e-14))}function i(e,t,a,i,n){l(e,t,"700","h1.draft-block"),l(e,a,"500","h2.draft-block"),l(e,i,"500","h3.draft-block"),l(e,n,"400",".draft-block"),f.default.declare(e,{height:.5*n},{forChild:_}),f.default.declare(e,{height:.5*r(n)},{minWidth:800,forChild:_})}function n(e){var t=e.fontSize,a=e.marginLeft,l=e.marginRight,r=e.textColor,i=e.horizontalPosition,n=e.marginHorizontal,o=v[t||"medium"],s=[{className:o,color:r},"center"===i?{marginHorizontal:H[n],alignItems:"center",textAlign:"center"}:{marginLeft:H[a],marginRight:H[l]},"right"===i&&{alignItems:"flex-end"},"justify"===i&&{alignItems:"stretch",textAlign:"justify"},e.style];return u.default.createElement(p.default,babelHelpers.extends({},e,{style:s}))}Object.defineProperty(t,"__esModule",{value:!0}),t.extraLarge=t.larger=t.large=t.medium=t.small=void 0;var o=a(1),u=babelHelpers.interopRequireDefault(o),s=a(369),d=(babelHelpers.interopRequireDefault(s),a(11)),f=babelHelpers.interopRequireDefault(d),c=a(800),p=babelHelpers.interopRequireDefault(c),b=t.small="page-text-editor-small",m=t.medium="page-text-editor-medium",h=t.large="page-text-editor-large",y=t.larger="page-text-editor-larger",g=t.extraLarge="page-text-editor-extra-large",v={small:b,medium:m,large:h,larger:y,extraLarge:g},_=".draft-block.draft-block-empty";i(b,27,23,18,16),i(m,30,25,21,18),i(h,35,30,25,21),i(y,40,35,30,25),i(g,45,40,35,30);var H={small:"6%",medium:"12%",large:"18%",larger:"24%"},R=n;t.default=R},800:function(e,t,a){function l(e,t){var a=e.decorator,l=e.fontFace,r=e.content,n=e.horizontalPosition,u=t||o.default,s=u.textContentVariables,f=null;switch(e.textShadow){case"light":f="0 1px 2px rgba(0,0,0,.3)";break;case"normal":f="0 1px 3px rgba(0,0,0,.6)";break;case"dark":f="0 2px 4px rgba(0,0,0,.9)"}var p=[y[n],f&&{textShadow:f},(0,m.resolveFontFaceStyle)(l),e.style];return!a&&s&&(a=new c.default([].concat(babelHelpers.toConsumableArray(d.decoratorList),[s]))),i.default.createElement(b.default,{horizontalPosition:n,decorator:a,style:p,renderOnEmpty:!1,value:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.alignMap=void 0;var r=a(1),i=babelHelpers.interopRequireDefault(r),n=a(17),o=babelHelpers.interopRequireDefault(n),u=a(18),s=babelHelpers.interopRequireDefault(u),d=a(231),f=a(377),c=babelHelpers.interopRequireDefault(f),p=a(369),b=babelHelpers.interopRequireDefault(p),m=a(762),h={left:{textAlign:"left",marginRight:"auto"},center:{marginHorizontal:"auto",textAlign:"center"},right:{textAlign:"right",marginLeft:"auto"}},y=t.alignMap={"flex-start":h.left,"flex-end":h.right,center:h.center,left:h.left,right:h.right};l.contextTypes={textContentVariables:s.default.any};var g=l;t.default=g},810:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var l=a(157),r=babelHelpers.interopRequireDefault(l),i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(r.default.Route);i.routeName="slug",i.paramDefinitions={slug:{required:!0}},i.queries={camp:function(e,t){return function(e){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},r.default.QL.__frag(e)]),fieldName:"camp",kind:"Query",metadata:{},name:"SlugRoute",type:"Camp"}}(e.getFragment("camp",t))}},t.default=i},811:function(e,t,a){function l(e){if(e){var t=e.split("/");return"product"===t[1]&&3===t.length?t[2]:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProductSlug=l;var r=a(1),i=babelHelpers.interopRequireDefault(r),n=a(823),o=babelHelpers.interopRequireDefault(n),u=a(357),s=babelHelpers.interopRequireDefault(u),d=a(43),f=babelHelpers.interopRequireDefault(d);t.default={handleRelayError:function(e,t){var a=t.routeParams;return o.default.handleRelayError(e,babelHelpers.extends({},t,{routeParams:babelHelpers.extends({},a,{type:"productRedirect"})}))},renderError:function(e){return i.default.createElement(o.default,babelHelpers.extends({},e,{type:"productRedirect"}))},prepareParams:function(e,t){var a=f.default.findRoute(e.stack);return babelHelpers.extends({},t,{viewer:a.to===s.default.product.preview?"staff":null})}}},851:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var l={app:1,staff:2,customer:3,email:4,noBody:5,str:{app:"app",staff:"staff",customer:"customer",email:"email",noBody:"noBody"},of:["app","staff","customer","email","noBody"],toValue:function(e){return l.of.findIndex(function(t){return e===t})+1},toStr:function(e){return l.of[e-1]},options:[],text:["app","staff","customer","email","noBody"],textOf:function(e){return l.text[e-1]}};l.text.forEach(function(e,t){l.options.push({value:t+1,text:e})}),t.default=l}});
//# sourceMappingURL=27.js.map